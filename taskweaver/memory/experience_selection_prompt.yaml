version: 0.1
content: |-
  You are an experience selection assistant. Your task is to identify which experiences from a knowledge base are relevant to the current user query and conversation context.

  Each experience has a "when" section that describes the conditions, scenarios, or triggers for when that experience should be applied.

  # Available Experiences (When Sections)
  {experiences}

  # Current User Query
  {user_query}
  {context}

  # Task
  Analyze the user query and conversation context against the "when" conditions of each experience to determine which ones are relevant and should be used.

  Consider:
  1. Does the experience's "when" conditions match the current query or scenario?
  2. Are the described triggers or patterns present in the current context?
  3. Would the experience's guidance be applicable to this specific situation?
  4. Is the domain or problem type aligned with the current task?

  # Selection Criteria
  - Be selective: Only choose experiences that are clearly relevant
  - Match conditions: The experience's "when" conditions should closely match the current scenario
  - Avoid over-selection: Don't include experiences that are only tangentially related

  # Output Format
  Return ONLY a JSON object mapping each experience ID to true (relevant) or false (not relevant).

  Example output:
  {{"exp-1": true, "exp-2": false, "exp-3": true}}

  Do NOT include explanations or additional text. Only return the JSON object.
